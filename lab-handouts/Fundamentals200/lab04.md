# Creating Unit Test Functions with GitHub Copilot Chat

## Introduction

### Task 1

1. Create a new file named `calculator.js`
2. Navigate to GitHub Copilot Chat and give the following prompt:

```
Compose a full JavaScript program for constructing a calculator. This program should have multiple functions to perform the tasks of addition, subtraction, multiplication, division, taking user input, and providing output
```

3. Copy and paste the provided code into the `calculator.js` file that you just created

4. To generate tests for each function, select the function for which the test case must be generated. In the GitHub Copilot Chat window, type `/tests` and hit **Enter**

5. GitHub Copilot Chat will generate a test case for any function that is selection

6. Proceed to create tests for each of the functions adding them into a new file called `test.js`

7. Save the file.

## Test Driven Development with GitHub Copilot

### Test-driven development (TDD) with GitHub Copilot represents a powerful synergy of software development practices and cutting-edge AI assistance. With TDD, developers follow a process of writing tests before implementing their code. It actively assists in crafting test cases, generating test templates, and suggesting test scenarios based on the code being written

### Task 1

1. Prompt Copilot Chat to ask about the directory structure and naming conventions for testing in Python

```
What is the directory structure and naming conventions for testing in Python?
```

2. Create the correct directory and file in your codebase for testing using the `@workspace` command in GitHub Copilot Chat
  - 2a. Open GitHub Copilot Chat
  - 2b. Prompt GitHub Copilot Chat to scaffold a new workspace for testing: `@workspace /new create a new Python project that includes testing based on the structure above. The test file should be named test_installments.py and the main Python file should be named installments.py`
  - 2c. Accept the project generated by GitHub Copilot

3. Navigate to your newly created test file, and prompt inline GitHub Copilot Chat (`Ctrl + I`) to generate test cases for a 
for a program that calculates amortization amount per month

**Note, this program has not been written**

```
Generate 5 test cases for a Python program that calculates the amoritzation amount per month, given: 
- Principal borrowed
- Rate of interest per annum
- Years to repay the loan
```

4. Add the code from step 1 into your new testing file, ensure this file is named `test_installments.py`

### Task 2

5. Navigate to your newly generated `installments.py` file

6. Open GitHub Copilot Chat

7. Prompt Copilot Chat to create a program that calculates the amortization amount per month that will pass the tests, asking it to think step-by-step

```
Program to calculate the amortization amount per month, given
- Principal borrowed
- Rate of interest per annum
- Years to repay the loan

Generate code that will pass the tests in test_installments.py
Think step-by-step
```


### Task 3
8. Review Copilot's rationale for the code, and add it's suggestions into your `equated_monthly_installments.py` file. Your code may look similar to the program below: 

```
def equated_monthly_installments(
    principal: float, rate_per_annum: float, years_to_repay: int
) -> float:
    if principal <= 0:
        raise Exception("Principal borrowed must be > 0")
    if rate_per_annum < 0:
        raise Exception("Rate of interest must be >= 0")
    if years_to_repay <= 0 or not isinstance(years_to_repay, int):
        raise Exception("Years to repay must be an integer > 0")

    # Yearly rate is divided by 12 to get monthly rate
    rate_per_month = rate_per_annum / 12

    # Years to repay is multiplied by 12 to get number of payments as payment is monthly
    number_of_payments = years_to_repay * 12

    return (
        principal
        * rate_per_month
        * (1 + rate_per_month) ** number_of_payments
        / ((1 + rate_per_month) ** number_of_payments - 1)
    )

```
9. Use inline GitHub Copilot to make code quality improvements as needed (comments, docstrings etc.) and save the file

### Task 4

10. If your code does not contain a docstring, prompt inline GitHub Copilot (`Ctrl + I`) to generate one: `Generate a docstring for the selected code`

11. Accept the docstring

12. Save your files

